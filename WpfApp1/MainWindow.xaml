<Window x:Class="WpfApp1.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MySQL WPF App" Height="450" Width="800">
    <Grid>
        <ScrollViewer VerticalScrollBarVisibility="Auto">
            <StackPanel Margin="20">

                <!-- Тест подключения и создание БД -->
                <GroupBox Header="Управление базой данных" Margin="0,0,0,10">
                    <StackPanel Margin="5">
                        <Button Content="Тест подключения" Click="TestConnection_Click" Margin="5"/>
                        <Button Content="Создать БД" Click="CreateDB_Click" Margin="5"/>
                    </StackPanel>
                </GroupBox>

                <!-- Добавление пользователя -->
                <GroupBox Header="Добавить пользователя" Margin="0,0,0,10">
                    <StackPanel Margin="5">
                        <TextBox x:Name="txtName" Margin="5" Text="" ToolTip="Имя"/>
                        <TextBox x:Name="txtEmail" Margin="5" Text="" ToolTip="Email"/>
                        <TextBox x:Name="txtAge" Margin="5" Text="" ToolTip="Возраст"/>
                        <Button Content="Добавить пользователя" Click="AddUser_Click" Margin="5"/>
                    </StackPanel>
                </GroupBox>

                <!-- Поиск пользователя -->
                <GroupBox Header="Поиск пользователя" Margin="0,0,0,10">
                    <StackPanel Margin="5">
                        <TextBox x:Name="txtSearchEmail" Margin="5" Text="" ToolTip="Email для поиска"/>
                        <Button Content="Поиск" Click="SearchUser_Click" Margin="5"/>
                    </StackPanel>
                </GroupBox>

                <!-- Список пользователей -->
                <GroupBox Header="Все пользователи">
                    <StackPanel Margin="5">
                        <Button Content="Показать всех пользователей" Click="ShowUsers_Click" Margin="5"/>
                        <ListBox x:Name="usersListBox" Height="150" Margin="5">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <StackPanel Margin="5">
                                        <TextBlock Text="{Binding Name}" FontWeight="Bold"/>
                                        <TextBlock Text="{Binding Email}"/>
                                        <TextBlock>
                                            <TextBlock.Text>
                                                <MultiBinding StringFormat="Возраст: {0} лет">
                                                    <Binding Path="Age"/>
                                                </MultiBinding>
                                            </TextBlock.Text>
                                        </TextBlock>
                                    </StackPanel>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>
                    </StackPanel>
                </GroupBox>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>